<!--suppress JSIncompatibleTypesComparison -->
<form #anotherForm=ngForm (ngSubmit)="onSubmit(authForm)">
  <mat-form-field class="example-full-width">
    <mat-label>Email</mat-label>
    <input type="email" name="test" matInput ngModel [errorStateMatcher]="matcher" placeholder="Ex. pat@example.com"
           email required>
    <mat-hint>Errors appear instantly!</mat-hint>
    @if (this.anotherForm.controls['test'] !== undefined && this.anotherForm.controls['test'].hasError('email') && !this.anotherForm.hasError('required')) {
      <mat-error>Please enter a valid email address</mat-error>
    }
    @if (this.anotherForm.controls['test'] !== undefined && anotherForm.controls['test'].hasError('required')) {
      <mat-error>Email is <strong>required</strong></mat-error>
    }
  </mat-form-field>
  <button (click)="log(anotherForm)">log</button>
</form>
<form #authForm=ngForm (ngSubmit)="onSubmit(authForm)">
  <div>
    <label for="email">email</label>
    <input type="email" id="email" ngModel name="email" required email/>
  </div>
  <div>
    <label for="password">password</label>
    <input type="password" id="password" ngModel name="password" required [minlength]="6"/>
  </div>
  <div>
    <button [disabled]="!authForm.valid" type="submit"> {{ loginMode() ? 'login' : 'sign up' }}</button>
  </div>
</form>
<div>
  <p>or {{ loginMode() ? 'sign up' : 'login' }} <a (click)="onSwitchMode()">here</a></p>
</div>
